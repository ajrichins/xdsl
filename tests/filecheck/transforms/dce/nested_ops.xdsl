// RUN: xdsl-opt -p dce %s | xdsl-opt | filecheck %s

builtin.module() {
  func.func() ["function_type" = !fun<[], []>, "sym_name" = "constant"] {
    %0 : !i1 = arith.constant() ["value" = 1 : !i1]
    %1 : !i32 = arith.constant() ["value" = 42 : !i32]
    %2 : !i32 = arith.constant() ["value" = 42 : !i32]
    scf.if(%0 : !i1) {
      %3 : !i32 = arith.addi(%1 : !i32, %1 : !i32)
    } {
      %4 : !i32 = arith.addi(%2 : !i32, %2 : !i32)
    }
    // CHECK-NOT: arith.addi
    // CHECK-NOT: 42
    func.return()
    }
  }
}
